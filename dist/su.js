!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,u=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=u.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}return l},i=/^([^#.0-9]*)([#,.0-9]*)([^#0-9]*)$/,u=/^((?:#*(?:,#+)*)\d*(?:,\d+)*)?(\.(?:\d+#*|#+))?$/,l=function(e){var t=e.getAttribute("data-pattern")||"",n=r(i.exec(t),4),l=n[1],a=n[2],o=n[3];if(!u.test(a))throw'illegal numeric pattern "'+a+'"';var f={unlimited:!t,prefix:l,suffix:o,integer:{groups:0,fill:"",max:0},fraction:{fill:"",max:0}},c=r(a.split("."),2),v=c[0],s=c[1];return function(e,t){if(e){var n=e.lastIndexOf(",");n>0&&(t.integer.groups=n);var i=r(/^(#*)(\d*)$/.exec(e.replace(/[^#0-9]/g,"")),3),u=i[0],l=i[2];u&&(t.integer.max=u.length),l&&(t.integer.fill=l)}}(v,f),function(e,t){if(e){var n=r(/^(\d*)(#*)$/.exec(e.replace(/[^#0-9]/g,"")),2),i=n[0],u=n[1];i&&(t.fraction.max=i.length),u&&(t.fraction.fill=u)}}(s,f),f},a=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,u=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=u.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}return l},o=["Enter","Backspace","Delete","Home","End","Left","Up","Right","Down","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Tab","-"],f=function(e,t,n){var r=e.key,i=t.selectionStart;if(r.charCodeAt(0)>127)return n.revert=i,void t.blur();if(/\d/.test(r)){if(!n.unlimited){var u=a(t.value.split("."),2),l=u[0],f=u[1];i<=l.length?n.integer.max<=l.replace(/^-/,"").length&&e.preventDefault():n.fraction.max<=f.length&&e.preventDefault()}}else if("."===r){if(!n.unlimited&&0===n.fraction.max)return void e.preventDefault();var c=t.value.indexOf(".");c>-1&&(e.preventDefault(),setTimeout((function(){var e=t.value.replace(/\./,"");i>c?(t.value=e.substring(0,i-1)+"."+e.substring(i-1),t.setSelectionRange(i,i)):(t.value=e.substring(0,i)+"."+e.substring(i),t.setSelectionRange(i+1,i+1))})))}else if(/^(Arrow)?(Up|Down)$/.test(r)){var v=Number(t.value),s=t.value.indexOf(".");t.value=(v+(/Up$/.test(r)?1:-1)).toFixed(-1===s?0:t.value.length-s-1),setTimeout((function(){return t.setSelectionRange(i,i)}))}else"-"===r?(e.preventDefault(),/^-/.test(t.value)?(t.value=t.value.replace(/-/,""),t.setSelectionRange(i-1,i-1)):(t.value="-"+t.value,t.setSelectionRange(i+1,i+1))):e.ctrlKey||e.metaKey||function(e){return o.indexOf(e)>-1}(r)||e.preventDefault()},c=function(e){return e.replace(/[^\d-.]/g,"")},v={},s=function(e,t){return void 0===t&&(t=3),e?(v[t]||(v[t]=new RegExp("\\B(?=(\\d{"+t+"})+(?!\\d))","g")),c(String(e)).replace(v[t],",")):""},d=function(e,t){return e?e.length<t.length?t.substring(0,t.length-e.length)+e:e:t},g=function(e,t){return t||e?(e.length<t.length&&(e+=t.substring(e.length)),"."+e):""},p=function(e,t,n){if(n.revert)return e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t.focus(),void setTimeout((function(){n.revert&&(t.setSelectionRange(n.revert,n.revert),n.revert=void 0)}));if(t.value){var r=function(e){return/^-/.test(e)}(t.value),i=t.value.replace(/[^\d.]/g,""),u=i.indexOf(".");-1===u?t.value=d(s(i),n.integer.fill)+g("",n.fraction.fill):(t.value=d(s(i.substring(0,u)),n.integer.fill),t.value+=g(c(i.substring(u+1)),n.fraction.fill)),t.value=n.prefix+t.value+n.suffix,r&&(t.value="-"+t.value)}};document.addEventListener("DOMContentLoaded",(function(){var e=new Event("change");document.querySelectorAll("input.su:not(.su--dyed)").forEach((function(t){var n=t;y(n,l(t)),n.value&&t.dispatchEvent(e)}))}));var y=function(e,t){e.addEventListener("keydown",(function(n){return f(n,e,t)}),!1),e.addEventListener("focus",(function(){return function(e,t){var n=e.selectionStart;n-=e.value.substring(t.prefix.length,n).split(/[^\d.]/).length-1,n-=t.prefix.length,e.value=c(e.value),/^-/.test(e.value)&&n++,setTimeout((function(){e.setSelectionRange(n,n)}))}(e,t)}),!1),e.addEventListener("focusout",(function(n){return p(n,e,t)}),!1),e.addEventListener("change",(function(n){return p(n,e,t)}),!1),e.classList.add("su--dyed"),e.style.textAlign="right","number"===e.getAttribute("type")&&e.setAttribute("type","text")}}]);
//# sourceMappingURL=su.js.map